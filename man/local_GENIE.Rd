% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_v2.R
\name{local_GENIE}
\alias{local_GENIE}
\title{Local Generative Network-Integrated Evaluation (local_GENIE)}
\usage{
local_GENIE(
  items,
  embedding.model = "bert-base-uncased",
  device = "auto",
  batch.size = 32,
  pooling.strategy = "mean",
  max.length = 512,
  EGA.model = NULL,
  EGA.algorithm = NULL,
  EGA.uni.method = NULL,
  embeddings.only = FALSE,
  run.overall = FALSE,
  all.together = FALSE,
  plot = TRUE,
  silently = FALSE
)
}
\arguments{
\item{items}{Data frame with columns: statement, attribute, type, ID.
All columns must be character type except ID (numeric or character allowed).
\itemize{
\item \code{statement}: The actual item text
\item \code{attribute}: The construct/attribute the item measures
\item \code{type}: The item type/category
\item \code{ID}: Unique identifier for each item
}}

\item{embedding.model}{Local embedding model identifier or path. Compatible models:
\itemize{
\item BERT variants: "bert-base-uncased", "bert-large-uncased"
\item RoBERTa: "roberta-base", "roberta-large"
\item DeBERTa: "microsoft/deberta-v3-base", "microsoft/deberta-v3-large"
\item DistilBERT: "distilbert-base-uncased"
\item Local paths: e.g., "/path/to/local/model"
}}

\item{device}{Device for embedding computation:
\itemize{
\item "auto": Automatically detect best available device
\item "cpu": Force CPU usage
\item "cuda": Use NVIDIA GPU (if available)
\item "mps": Use Apple Silicon GPU (if available)
}}

\item{batch.size}{Number of items to process simultaneously (default: 32)}

\item{pooling.strategy}{Method for pooling token embeddings:
\itemize{
\item "mean": Average all token embeddings (default)
\item "cls": Use only the CLS token embedding
\item "max": Max pooling across tokens
}}

\item{max.length}{Maximum sequence length for tokenization (default: 512)}

\item{EGA.model}{Network estimation model ("glasso", "TMFG", or NULL for auto-selection)}

\item{EGA.algorithm}{Community detection algorithm ("walktrap", "leiden", "louvain")}

\item{EGA.uni.method}{Unidimensionality assessment method ("louvain", "expand", "LE")}

\item{embeddings.only}{If \code{TRUE}, return embeddings and stop (skip network analysis)}

\item{run.overall}{A logical value (optional, default: FALSE). Controls whether a \emph{fit} analysis
on the complete item pool is run \emph{post-reduction.}
By default, only type-level reduction analyses are run (i.e., items of like-type go through
the pipeline independent of the other items in the pool). When this flag is \code{TRUE}, an additional
analysis is run on the overall sample, but no further reductions at the overall level are made.
If only one item type is present, this argument will be ignored.}

\item{all.together}{A logical value (optional, default: FALSE). Controls whether the \emph{reduction} analysis
on the complete item pool is run.
By default, only type-level reduction analyses are run (i.e., items of like-type go through
the pipeline independent of the other items in the pool). When this flag is \code{TRUE}, reductions are made
at the overall level (i.e., all items go through the reduction pipeline together, agnostic of item type).
If only one item type is present, this argument will be ignored.}

\item{plot}{If \code{TRUE}, display network comparison plots}

\item{silently}{If \code{TRUE}, suppress progress messages

\strong{Default behavior (\code{embeddings.only = FALSE}):} Returns a
complex list with two primary components:

\describe{
\item{\code{overall}}{Results for all items considered agnostic of item type, containing:
\describe{
\item{\code{final_NMI}}{Final normalized mutual information after all reduction steps}
\item{\code{initial_NMI}}{Initial NMI of the pre-reduced, full item pool}
\item{\code{embeddings}}{List with \code{full} (full embedding matrix of reduced items),
\code{sparse} (sparsified embeddings of reduced items), \code{selected} (string specifying
which embeddings were used). If \code{keep.org = TRUE}, also includes \code{full_org}
and \code{sparse_org} for complete pre-reduction item set}
\item{\code{EGA.model_selected}}{EGA model used for analysis (TMFG or Glasso)}
\item{\code{final_items}}{Data frame with final items after reduction (columns: ID,
statement, attribute, type, EGA_com)}
\item{\code{final_EGA}}{Final EGA object from EGAnet package post-reduction}
\item{\code{initial_EGA}}{Initial EGA object of all items in original pool}
\item{\code{start_N}}{Initial number of items pre-reduction}
\item{\code{final_N}}{Final number of items in reduced pool}
\item{\code{network_plot}}{ggplot/patchwork comparison plot showing EGA network before vs after reduction}
}
}
\item{\code{item_type_level}}{Named list where results are displayed at the item type level. Each element contains results
for items of only one type:
\describe{
\item{\code{final_NMI}, \code{initial_NMI}, \code{embeddings}, \code{EGA.model_selected}, \code{final_items},
\code{final_EGA}, \code{initial_EGA}, \code{start_N}, \code{final_N}, \code{network_plot}}{Same as overall object}
\item{\code{UVA}}{List with \code{n_removed} (number of redundant items removed), \code{n_sweeps}
(number of UVA iterations), \code{redundant_pairs} (data frame with sweep, items, keep, remove columns)}
\item{\code{bootEGA}}{List with \code{initial_boot} (first bootEGA object), \code{final_boot}
(final bootEGA object with all stable items), \code{n_removed} (number of unstable items),
\code{items_removed} (data frame of removed items with boot run information),
\code{initial_boot_with_redundancies} (boot EGA object for original item pool)}
\item{\code{stability_plot}}{ggplot/patchwork stability plot showing item stability before vs after reduction}
}
}
}}
}
\description{
Local version of GENIE that uses locally installed embedding models for complete
privacy and offline operation. Provides the same psychometric validation and
quality assessment for user-supplied items as GENIE, but generates embeddings
locally using transformer models instead of API calls.
}
