% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_v2.R
\name{local_GENIE}
\alias{local_GENIE}
\title{Local Generative Network-Integrated Evaluation (local_GENIE)}
\usage{
local_GENIE(
  items,
  embedding.model = "bert-base-uncased",
  device = "auto",
  batch.size = 32,
  pooling.strategy = "mean",
  max.length = 512,
  EGA.model = NULL,
  EGA.algorithm = "walktrap",
  EGA.uni.method = "louvain",
  embeddings.only = FALSE,
  plot = TRUE,
  silently = FALSE
)
}
\arguments{
\item{items}{Data frame with columns: statement, attribute, type, ID.
All columns must be character type except ID (numeric or character allowed).
\itemize{
\item \code{statement}: The actual item text
\item \code{attribute}: The construct/attribute the item measures
\item \code{type}: The item type/category
\item \code{ID}: Unique identifier for each item
}}

\item{embedding.model}{Local embedding model identifier or path. Compatible models:
\itemize{
\item BERT variants: "bert-base-uncased", "bert-large-uncased"
\item RoBERTa: "roberta-base", "roberta-large"
\item DeBERTa: "microsoft/deberta-v3-base", "microsoft/deberta-v3-large"
\item DistilBERT: "distilbert-base-uncased"
\item Local paths: "/path/to/local/model"
}}

\item{device}{Device for embedding computation:
\itemize{
\item "auto": Automatically detect best available device
\item "cpu": Force CPU usage
\item "cuda": Use NVIDIA GPU (if available)
\item "mps": Use Apple Silicon GPU (if available)
}}

\item{batch.size}{Number of items to process simultaneously (default: 32)}

\item{pooling.strategy}{Method for pooling token embeddings:
\itemize{
\item "mean": Average all token embeddings (default)
\item "cls": Use only the CLS token embedding
\item "max": Max pooling across tokens
}}

\item{max.length}{Maximum sequence length for tokenization (default: 512)}

\item{EGA.model}{Network estimation model ("glasso", "TMFG", or NULL for auto-selection)}

\item{EGA.algorithm}{Community detection algorithm ("walktrap", "leiden", "louvain")}

\item{EGA.uni.method}{Unidimensionality assessment method ("louvain", "expand", "LE")}

\item{embeddings.only}{If TRUE, return embeddings and stop (skip network analysis)}

\item{plot}{If TRUE, display network comparison plots}

\item{silently}{If TRUE, suppress progress messages}
}
\value{
Depending on embeddings.only flag:
\itemize{
\item If embeddings.only = TRUE: List with embeddings matrix and items
\item If embeddings.only = FALSE: List with overall and item-type level results
}
}
\description{
Local version of GENIE that uses locally installed embedding models for complete
privacy and offline operation. Provides the same psychometric validation and
quality assessment for user-supplied items as GENIE, but generates embeddings
locally using transformer models instead of API calls.
}
\details{
local_GENIE workflow:
\enumerate{
\item Validate and clean user-provided items
\item Generate embeddings locally using specified transformer model
\item Run network psychometric pipeline: redundancy reduction, community detection, stability analysis
\item Return comprehensive results with network plots and quality metrics
}

Unlike regular GENIE which uses API-based embeddings, local_GENIE processes everything
on the user's machine for complete privacy and offline capability. This makes it
ideal for sensitive data or environments without internet access.
}
\note{
Requirements:
\itemize{
\item Python environment with transformers, torch, and numpy
\item Local transformer model (downloaded automatically on first use)
\item Sufficient RAM/VRAM for model and batch processing
}
}
\examples{
\dontrun{
# Create sample items
items <- data.frame(
  statement = c("I enjoy social gatherings", "I prefer working alone",
                "I feel anxious in crowds", "I am comfortable speaking publicly"),
  attribute = c("extraversion", "introversion", "social_anxiety", "confidence"),
  type = c("personality", "personality", "anxiety", "anxiety"),
  ID = 1:4,
  stringsAsFactors = FALSE
)

# Run local_GENIE with default BERT model
results <- local_GENIE(
  items = items,
  embedding.model = "bert-base-uncased"
)

# Run with GPU acceleration and larger batch size
results <- local_GENIE(
  items = items,
  embedding.model = "roberta-base",
  device = "cuda",
  batch.size = 64
)

# Generate embeddings only for external use
embeddings_result <- local_GENIE(
  items = items,
  embedding.model = "distilbert-base-uncased",
  embeddings.only = TRUE
)
}

}
