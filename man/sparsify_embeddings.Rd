% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pipeline_helpers.R
\name{sparsify_embeddings}
\alias{sparsify_embeddings}
\title{Sparsify Embedding Matrix}
\usage{
sparsify_embeddings(
  embedding_matrix,
  lower_quantile = 0.025,
  upper_quantile = 0.975,
  fallback_lower = 0.1,
  fallback_upper = 0.9,
  silently = TRUE
)
}
\arguments{
\item{embedding_matrix}{Numeric matrix with items as columns, dimensions as rows}

\item{lower_quantile}{Lower quantile threshold (default 0.025)}

\item{upper_quantile}{Upper quantile threshold (default 0.975)}

\item{fallback_lower}{Fallback lower quantile if first attempt fails (default 0.10)}

\item{fallback_upper}{Fallback upper quantile if first attempt fails (default 0.90)}

\item{silently}{Logical; if FALSE, displays progress messages}
}
\value{
Sparsified embedding matrix with same dimensions as input
}
\description{
Applies sparsification to an embedding matrix by zeroing out values between
specified quantiles. Includes fallback strategies if initial sparsification
results in all zeros.
}
\details{
Sparsification process:
1. Zero out values between lower and upper quantiles
2. If result is all zeros, try fallback quantiles
3. If still all zeros, return original matrix

`silently` is always `TRUE`. It is only set to `FALSE` for developement
and diagnostic purposes.
}
