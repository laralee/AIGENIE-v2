% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_v2.R
\name{local_AIGENIE}
\alias{local_AIGENIE}
\title{Generate and Validate Psychometric Scale Items Using Local Models}
\usage{
local_AIGENIE(
  item.attributes,
  model.path,
  embedding.model = "bert-base-uncased",
  main.prompts = NULL,
  temperature = 1,
  top.p = 1,
  target.N = NULL,
  domain = NULL,
  scale.title = NULL,
  item.examples = NULL,
  audience = NULL,
  item.type.definitions = NULL,
  response.options = NULL,
  prompt.notes = NULL,
  system.role = NULL,
  EGA.model = NULL,
  EGA.algorithm = "walktrap",
  EGA.uni.method = "louvain",
  n.ctx = 4096,
  n.gpu.layers = -1,
  max.tokens = 1024,
  device = "auto",
  batch.size = 32,
  pooling.strategy = "mean",
  max.length = 512L,
  keep.org = FALSE,
  items.only = FALSE,
  embeddings.only = FALSE,
  adaptive = TRUE,
  plot = TRUE,
  silently = FALSE
)
}
\arguments{
\item{item.attributes}{Named list of item types and their attributes (required)}

\item{model.path}{Path to local GGUF model file (required)}

\item{embedding.model}{Name or path to local embedding model (default: "bert-base-uncased")}

\item{main.prompts}{Custom prompts for item generation (optional)}

\item{temperature}{LLM temperature for randomness (0-2, default: 1)}

\item{top.p}{Top-p nucleus sampling parameter (0-1, default: 1)}

\item{target.N}{Number of items to generate per type (default: 60)}

\item{domain}{Content domain (e.g., "psychological")}

\item{scale.title}{Name of the scale}

\item{item.examples}{Data frame of example items}

\item{audience}{Target population}

\item{item.type.definitions}{Definitions for item types}

\item{response.options}{Response scale labels}

\item{prompt.notes}{Additional instructions for generation}

\item{system.role}{Custom system prompt}

\item{EGA.model}{Network model ("glasso", "TMFG", or NULL for auto)}

\item{EGA.algorithm}{Community detection algorithm (default: "walktrap")}

\item{EGA.uni.method}{Unidimensionality method (default: "louvain")}

\item{n.ctx}{Context window size (default: 4096)}

\item{n.gpu.layers}{GPU layers to use (-1 for all, default: -1)}

\item{max.tokens}{Maximum tokens per generation (default: 1024)}

\item{device}{Device for embeddings ("auto", "cpu", "cuda", "mps")}

\item{batch.size}{Batch size for embeddings (default: 32)}

\item{pooling.strategy}{Pooling for embeddings ("mean", "cls", "max")}

\item{max.length}{Max sequence length for embeddings (default: 512)}

\item{keep.org}{Keep original items and embeddings (default: FALSE)}

\item{items.only}{Generate items only, skip reduction (default: FALSE)}

\item{embeddings.only}{Generate embeddings only (default: FALSE)}

\item{adaptive}{Use adaptive generation (default: TRUE)}

\item{plot}{Display network plots (default: TRUE)}

\item{silently}{Suppress progress messages (default: FALSE)

\strong{Default behavior (\code{items.only = FALSE}, \code{embeddings.only = FALSE}):} Returns a
complex list with two primary components:

\describe{
\item{\code{overall}}{Results for all items considered agnostic of item type, containing:
\describe{
\item{\code{final_NMI}}{Final normalized mutual information after all reduction steps}
\item{\code{initial_NMI}}{Initial NMI of the pre-reduced, full item pool}
\item{\code{embeddings}}{List with \code{full} (full embedding matrix of reduced items),
\code{sparse} (sparsified embeddings of reduced items), \code{selected} (string specifying
which embeddings were used). If \code{keep.org = TRUE}, also includes \code{full_org}
and \code{sparse_org} for complete pre-reduction item set}
\item{\code{EGA.model_selected}}{EGA model used for analysis (TMFG or Glasso)}
\item{\code{final_items}}{Data frame with final items after reduction (columns: ID,
statement, attribute, type, EGA_com)}
\item{\code{final_EGA}}{Final EGA object from EGAnet package post-reduction}
\item{\code{initial_EGA}}{Initial EGA object of all items in original pool}
\item{\code{start_N}}{Initial number of items pre-reduction}
\item{\code{final_N}}{Final number of items in reduced pool}
\item{\code{network_plot}}{ggplot/patchwork comparison plot showing EGA network before vs after reduction}
}
}
\item{\code{item_type_level}}{Named list where results are displayed at the item type level. Each element contains results
for items of only one type:
\describe{
\item{\code{final_NMI}, \code{initial_NMI}, \code{embeddings}, \code{EGA.model_selected}, \code{final_items},
\code{final_EGA}, \code{initial_EGA}, \code{start_N}, \code{final_N}, \code{network_plot}}{Same as overall object}
\item{\code{UVA}}{List with \code{n_removed} (number of redundant items removed), \code{n_sweeps}
(number of UVA iterations), \code{redundant_pairs} (data frame with sweep, items, keep, remove columns)}
\item{\code{bootEGA}}{List with \code{initial_boot} (first bootEGA object), \code{final_boot}
(final bootEGA object with all stable items), \code{n_removed} (number of unstable items),
\code{items_removed} (data frame of removed items with boot run information),
\code{initial_boot_with_redundancies} (boot EGA object for original item pool)}
\item{\code{stability_plot}}{ggplot/patchwork stability plot showing item stability before vs after reduction}
}
}
}}
}
\description{
Local version of AI-GENIE that uses locally installed language models and
embeddings for complete privacy and offline operation. Generates items,
creates embeddings, and performs network psychometric reduction entirely
on the user's machine.
}
\examples{
\dontrun{
########################################################
#### Running AIGENIE with a downloaded LLM model ######
########################################################

# Item type definitions
trait.definitions <- list(
 neuroticism = "Neuroticism is a personality trait that describes one's tendency to experience negative emotions like anxiety, depression, irritability, anger, and self-consciousness.",
 extraversion = "Extraversion is a personality trait that describes people who are more focused on the external world than their internal experience."
)

# Item attributes
aspects.of.personality.traits <- list(
 neuroticism = c("anxious", "depressed", "insecure", "emotional"),
 extraversion = c("friendly", "positive", "assertive", "energetic")
)

# Name the field or specialty
domain <- "Personality Measurement"

# Name the Inventory being created
scale.title <- "Three of 'Big Five:' A Streamlined Personality Inventory"

# Add a file path name to a local text generation model downloaded on your computer
model.path <- "ADD FILE PATH TO DOWNLOADED MODEL HERE"


# Generate and validate items using a model installed on your machine
local_example <- local_AIGENIE(
 item.attributes = aspects.of.personality.traits,
 item.type.definitions = trait.definitions,
 domain = domain,
 model.path = model.path
)

}
}
